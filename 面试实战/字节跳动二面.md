## 字节跳动二面

### 自我介绍

### 算法题

- **股票单次买入买出问题。 Leetcode 121**

  - 一个变量记录最小值
  - 一个变量记录最大盈利，然后扫一遍

- ```java
  public int maxProfit(int[] prices) {
          if(prices.length==1 || prices.length==0)
              return 0;
          int min = prices[0];
          int max = 0;
          for(int i = 1;i<prices.length;i++){
              if(prices[i] < min){
                  min = prices[i];
              }else{
                  max = Math.max(max,prices[i]-min);
              }
          }
          return max;
      }
  ```

### 项目

- **讲一下自己的项目**
- **RESTFUL接口的设计思想？**
  - 思想
    - 资源
    - CURD统一数据操作的接口
    - URI对资源进行定位
    - 无状态，所有的资源都可以URI定位
  - 规范
    - API版本号应该放入URL
    - 只有动词，没有名词
- **PUT和POST的区别？**
  - POST 是非幂等的
  - PUT是幂等的
- **项目中遇到过什么困难？**
- **JVM中对性能优化比较大的参数**
  - -client：系统启动时间更快，多用于GUI
  - -server：更大，更高的并发处理能力，更强更快捷的JVM垃圾回收机制，可以获得更多的负载与吞吐量。默认64位
  - -d32：32位
  - -d64：64位
  - -Xmixed：混合模式支持JVM及时编译的运行模式
  - -Xcomp：优先以编译模式运行，不能编译的，以解释模式运行
  - -Xint：解释模式：最慢
- **-server -client的区别？**
  - client的加载速度比server模式快百分之10，但是运行速度是server模式的十分之一，堆默认：1M~64M。使用轻量级的c1编译器
  - server模式针对服务器应用，堆默认128M~1G。使用重量级的c2编译器
- **进程，线程，协程之间的区别**
  - 多线程模式的缺点是任何一个线程挂掉都有可能使得整个进程挂掉，因为所有的线程共享进程内存
  - IO密集型任务，首选开发效率高的语言，脚本语言是首选
  - 协程没有线程切换的开销
  - 协程不需要锁机制，因为只有一个线程，不存在同时写变量炒年糕图
  - 多进程+协程才能充分利用CPU的效率
- **过去半年有没有学过什么新的东西？**
- **Disruptor为什么快？**
  - 消除伪共享
    - 伪共享：相邻数据被加CPU不同核心加载到同一个缓存行里，引起缓存命中降低。独占缓存行
  - CAS
    - 数据库的乐观锁：版本号
    - 代码层面的乐观锁：CAS
    - 非阻塞：多线程下不阻塞其他线程的执行
- **未来半年准备学什么？**

