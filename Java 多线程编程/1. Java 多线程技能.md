## 1. Java 多线程技能

- 加锁的代码段称为”互斥区“或者”临界区“
- 使用线程的方式：
  - 继承Thread类
  - 实现 Runnable 接口（由于Java是单继承）
- currentThread() 代码段正在被哪个线程调用
- isAlive() 判断当前线程是否处于活动状态
- sleep() 休眠正在运行的线程
- 停止线程的方法：
  - 使用退出标志，线程正常退出，也就是run方法执行完成之后
  - 使用stop方法强行中止线程，不推荐
  - 使用interrupt方法中断线程
    - 异常法：推荐，因为异常还可以往上抛，使线程停止的事件得以传播
    - return法
- 使用interrupt方法仅仅是在当前线程中打了一个停止的标记，并不是真正的停止线程
- interrupted 方法，测试当前线程是否已经中断，会清除线程的中断状态，清除为false
- isInterrupted 方法，测试线程是否是中断状态，但是不清除状态标志
- sleep状态下调用interrupt会进入catch，并且清除停止状态值
- 为什么弃用stop
  - 会使一些清理工作得不到完成
  - 对锁定对象进行了解锁，导致数据得不到同步处理，会出现数据不一致的情况
- 暂停：suspend
- 恢复 resume
- 暂停和恢复弃用的原因：
  - 使用不当容易造成公共的同步对象的独占，使得其他线程无法访问公共同步对象
  - 不同步
- yield：放弃当前CPU资源，让给其他任务
- setPriority 设置优先级
  - 1-10  10最高
  - 线程的优先级具有继承性，A启动了B，则B线程和A线程优先级相同
- 守护线程：
  - 进程中不存在非守护线程时，守护线程自动销毁
  - 最典型的：垃圾回收线程