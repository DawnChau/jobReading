## 7-2 类加载的时机

- 生命周期
  - 加载
  - 验证
  - 准备
  - 解析：开始时间可以在初始化之后
  - 初始化
  - 使用
  - 卸载
- 五种情况需要立刻初始化
  - 遇到new、getstatic、putstatic、invokestatic指令。读取或者设置final修饰的静态字段不会触发初始化，因为final字段在编译期把结果放入了常量池。
  - reflect反射调用
  - 如果父类没有初始化，先初始化父类
  - 虚拟机启动时，会先初始化主类
- 被动引用
  - 子类使用父类的静态字段，子类不会初始化。直接定义该静态字段的类才会被初始化。
  - 通过数组定义来引用类，不会触发该类的初始化
  - 常量在编译阶段会存入调用类的常量池，引用常量不会触发初始化。
  - 一个接口在初始化的时候，并不要求其父类接口必须全部初始化，只有在真正使用到父接口时候，才会初始化。
  - 引用接口中定义的常量会触发接口的初始化。