## 3-6 内存分配与回收策略

### 3-6-1 内存优先在Eden上分配

- 当Eden区没有足够的空间时，虚拟机将发起一次Minor GC

### 3-6-2 大对象将直接进入老年代

- 大对象指很长的字符串和数组

### 3-6-3 长期存活的对象将进入老年代

- 如果对象在Eden出生，并且经历过一次Minor GC之后仍然存活，并且能够被Survivor容纳的话，将被移动到Survivor空间中，并且对象年龄设置为1.
- 15岁将会被晋升到老年代

### 3-6-4 动态对象年龄判断

- 如果Survivor空间中相同年龄所有对象大小的总和大于Survivor空间的一半，年龄大于或等于该年龄的对象可以直接进入老年代，无需等到MaxTenuringThreshold中要求的年龄。

### 3-6-5 空间分配担保

- 在发送Minor GC之前，虚拟机会先检查老年代最大可用的连续空间是否大于新生代所有对象总空间，如果这个条件成立，则Minor GC 可以确保是安全的。