## 11-2 HotSpot 虚拟机内的即时编译器

### 11-2-1 解释器与编译器

- 即时编译器
  - C1客户端编译器
  - C2服务端编译器
- -Xint 强制虚拟机运行于“解释模式”
- -Xcomp 强制虚拟机运行于“编译模式”、
- HotSpot还会主键启用分层编译

### 11-2-2 编译对象与触发条件

- 热点循环代码，编译器依然会编译整个方法。这种编译在方法执行中，被称为栈上替换OSR，方法帧还在栈上，但是方法被替换了
- 热点代码的判断方法
  - 热点探测（抽样）
    - 缺点是不精准
  - 计数器
    - 实现起来复杂
    - 准确
  - HotSpot采用方法调用计数器和回边计数器
- 方法调用计数器有热度衰减，回边计数器没有热度衰减